/*
 * Copyright Â© 2019. TIBCO Software Inc.
 * This file is subject to the license terms contained
 * in the license file that is distributed with this file.
 */
import {Observable} from "rxjs/Observable";
import {Injectable, Injector, Inject} from "@angular/core";
import {Http} from "@angular/http";
import {
    WiContrib,
    WiServiceHandlerContribution,
    IValidationResult,
    ValidationResult,
    IFieldDefinition,
    IActivityContribution,
    IConnectorContribution,
    WiContributionUtils
} from "wi-studio/app/contrib/wi-contrib";

@WiContrib({})
@Injectable()
export class JSONDeserializerContributionHandler extends WiServiceHandlerContribution {
	filename: string;
	content: string; 

    constructor(@Inject(Injector) injector, private http: Http) {
        super(injector, http);
    }

    value = (fieldName: string, context: IActivityContribution): Observable<any> | any => {
    	
		console.log('value ?????????? fieldName = ' + fieldName);
		
		if(fieldName === "Data") {
			let model: IFieldDefinition;
			let filename: string;
			let content: string; 
			
			for (let configuration of context.settings) {
				if( configuration.name === "sample") {
					let schemaObj: any
					model = configuration
					if(configuration.value) {
						filename = configuration.value.filename;
						content = configuration.value.content;
						if(content) {
							content = content.substr(content.indexOf(',')+1);
							content = atob(content);
						}
						console.log('filename = ' + filename);
						console.log('content = ' + content);
						return JSON.stringify(JSON.parse(content));
					}
				}
			}
			
			return JSON.stringify({})
//		console.log(JSON.stringify({"device":"aaaaaaaaaa17","id":"74c863b6-c209-4349-99c5-8f93024b1e67","origin":1567211883787,"readings":[{"device":"aaaaaaaaaa17","id":"e7545e7d-6517-4d99-a16b-faef1f1d966b","name":"BatteryStateCharge","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"a1625346-961a-4837-a569-b6ff40c3d713","name":"BatteryStateHealth","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"72c2af21-aac4-4154-95ef-1f11f5a13809","name":"TotalEnergyCharged","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"af0c17af-ba81-4992-896b-c94c00a4471b","name":"TotalEnergyDischarged","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"2f86cdd7-db96-4b4a-9c4e-8eb1e092e00d","name":"EnergyCharged","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3d9e1230-3d62-4065-b6cd-3eb505fa739e","name":"EnergyDischarged","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ad2aec4b-9d09-40c3-ba2f-6991b33288bb","name":"MaxumunModSensorTemperature","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f80837b8-1693-4d6b-a99e-10fc01b40139","name":"MinumunModSensorTemperature","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3846ba0f-6c20-48d8-99c9-ca2f05a8d432","name":"MaximumCellVoltage","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"62f31968-a2c8-4c84-8fa6-32445a612a1d","name":"MinimumCellVoltage","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"03e53611-44be-4224-afdf-e9188bdf111e","name":"CurrentBatteryPower","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f2412231-1ecb-4de8-a547-1695717dc33b","name":"TotalBatterySystemAmperage","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"9c62b134-ba62-4201-9e69-f1b5c8c344e4","name":"TotalBatteryPackVoltage","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"1f0968a1-cf70-47e1-ad1c-7ea536bf546d","name":"AmbientTemperature","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"4078c125-9b53-49a1-a2e1-f3032da7905c","name":"CellVoltage1","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"8eac755c-33c9-4ff5-91d2-b2fb87665373","name":"CellVoltage2","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"dc71b2f2-8f23-4d33-ac12-86d53fa7cbc7","name":"CellVoltage3","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"9f8c2309-43e3-44d5-8434-540298ae04fe","name":"CellVoltage4","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"5e959aa0-f6ac-4241-b66c-f7d01811895a","name":"CellVoltage5","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e7e90288-1054-477c-9402-7f1aeb8b73fb","name":"CellVoltage6","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e81bad3e-e19b-45b6-bea6-54e307fb4d88","name":"CellVoltage7","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e2867bb3-a173-4a06-9a8f-f576068e3a24","name":"CellVoltage8","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"c5c80902-16b3-4700-acdd-f1482e939e83","name":"CellVoltage9","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e2158eb9-9643-4548-b266-716d05ec7e02","name":"CellVoltage10","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3c903f50-01fc-4183-9482-4b9d774dee2d","name":"CellVoltage11","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"71be36fa-5b96-43f1-a27f-c3a8e799e780","name":"CellVoltage12","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f36dcfff-e4b4-41a2-923d-e6fef66aed24","name":"CellVoltage13","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f58e7d5e-8a2d-4d18-91e7-380690ab3742","name":"CellVoltage14","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"4c8a6cea-a228-4b56-96b0-39f2265d1438","name":"CellVoltage15","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"08c0d125-7106-465b-846e-271ed04d02b8","name":"CellVoltage16","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3defa676-0dc9-40c5-ab71-6997dbc8b2be","name":"CellVoltage17","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"98c06012-2695-467a-88a2-a2626275e6ae","name":"CellVoltage18","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"947cff26-d640-42e7-940d-57dd3b78c541","name":"CellVoltage19","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"0e4bc7fc-1a79-4ae1-8eb2-9fd545b750c2","name":"CellVoltage20","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"cc9df6df-34a2-4f95-8492-cc4911faf1aa","name":"CellVoltage21","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"002b78c8-9f99-4abf-af86-b4fc50016896","name":"CellVoltage22","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"47eabd58-565c-4912-9084-cd5ec011e21b","name":"CellVoltage23","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"6ee30c7e-556d-4078-9503-444f1de32373","name":"CellVoltage24","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"fa71c683-79fe-4449-823f-1bf2fc4a0bbe","name":"CellVoltage25","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"517f4a94-47c7-4afc-a6e0-3192480aed70","name":"CellVoltage26","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"c6fe74a2-725e-441a-a530-7d9b72482437","name":"CellVoltage27","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"a9c6c81a-606b-4cc4-b1a6-3618d1a825ce","name":"CellVoltage28","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"a3430a5b-7a19-45c9-96d6-5d3477c2ee91","name":"CellVoltage29","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"41e77c5d-a39b-4526-888c-fcafc88f1d71","name":"CellVoltage30","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"b65c3f93-79d2-4a2b-9974-e92446b89a31","name":"CellVoltage31","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"d93cf9ee-46e4-4bd7-8bc3-e77524f1ec2b","name":"CellVoltage32","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"0633862b-1343-47f3-95e7-bd7362dbdb89","name":"CellVoltage33","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"21d532ec-918e-45ac-9dac-88d82e4fa62b","name":"CellVoltage34","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"45778eb7-3bc9-48d4-98a6-8551e66c6bba","name":"CellVoltage35","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e60eefa0-3e6c-46d1-b771-fb6488ccbe9c","name":"CellVoltage36","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"25db0574-03ac-48d9-8dc9-12f41dc774bb","name":"CellVoltage37","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"fdf4905f-6d19-4892-80be-43d129539a00","name":"CellVoltage38","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"30e4e118-3ea4-45f1-bb96-233088719c0f","name":"CellVoltage39","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"09ea80f6-c945-422f-8771-9ad7b214b617","name":"CellVoltage40","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e473ae23-1b1f-4f2a-a74c-b5c58eb53508","name":"CellVoltage41","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3f6ab3b3-2fe8-4a14-af7f-04fa9edb0356","name":"CellVoltage42","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"1a166fd9-a0d3-4d86-9054-443cbff8ecc9","name":"CellVoltage43","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"2eb41dc3-738d-4d2d-b65d-ea538fb44589","name":"CellVoltage44","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"cffb15bb-317f-467a-a690-8d93d6c18f43","name":"CellVoltage45","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"6013631c-00a1-40ec-b654-826291080dcf","name":"CellVoltage46","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e50b01c3-b0cc-42e5-bbce-c9b239ed805e","name":"CellVoltage47","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"5b3827b3-0e65-45bb-ae38-40f1304fea86","name":"CellVoltage48","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"2e883250-2eed-45dd-9a85-d6b2616cf056","name":"CellVoltage49","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"c45eee72-90b1-4e08-bc2b-fcad8c3b60c6","name":"CellVoltage50","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e5d2fc73-e96b-4745-89af-f776f7c51ba9","name":"CellVoltage51","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"1900305f-5f6b-403f-a764-80bb5b67699f","name":"CellVoltage52","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ffc0f9d8-e612-4f01-8ad2-3a9048e4744f","name":"CellVoltage53","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"8698ca5b-8ffb-4aa8-80b2-2725133a56fa","name":"CellVoltage54","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"d4d882d8-f5d2-4414-a611-cf24b4a2bf01","name":"CellVoltage55","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"74026e05-e7a4-4ff6-b363-98e3c946cb16","name":"CellVoltage56","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f7cddd1d-e0b4-4f05-a892-b1ac0b0e2907","name":"CellVoltage57","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"9d88e130-923a-49e7-850a-fc49c0cdedf2","name":"CellVoltage58","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"929dd4f2-e9e0-4346-87c0-89b1e9f9c917","name":"CellVoltage59","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"6a8c7aff-72c8-4149-a821-bb8bc77875ae","name":"CellVoltage60","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"432e59e5-fbf8-4ede-b4b6-dbc515235bba","name":"CellVoltage61","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e39673cc-3c12-41dc-975b-eea4d0aeee16","name":"CellVoltage62","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"b70bffef-1b7e-49ff-929a-4df700b01458","name":"CellVoltage63","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"eb5dc4d0-900c-4f12-ad02-33123e484224","name":"CellVoltage64","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"704282e2-4357-4b78-9b63-0182903594af","name":"CellVoltage65","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"a532facb-1d5d-4f24-9e99-bc1dd59f660a","name":"CellVoltage66","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ef7c4e58-8a12-402f-a80f-dd035df6b6ac","name":"CellVoltage67","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"5f4174f7-8a52-4fe3-8ccb-6d59afc9368d","name":"CellVoltage68","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"201438e0-68bd-4369-b1bf-520a0a13793a","name":"CellVoltage69","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ebe8ff66-181b-44e3-a364-6767036a068c","name":"CellVoltage70","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"52649cea-ee4b-479c-ba50-6a254f130962","name":"CellTemperature1","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e8762391-80b8-4a39-b806-76305d265429","name":"CellTemperature2","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f09e120c-bf10-4242-8cff-32b17ff1a8f3","name":"CellTemperature3","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"83f2bdd7-66f9-4d4c-a082-23f1221d0cfe","name":"CellTemperature4","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ff4709b6-d90c-437c-81b3-6ac6a2a00cbf","name":"CellTemperature5","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"329cf44f-cdda-4d43-adac-f62da4e9823e","name":"CellTemperature6","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"75396d56-6a17-4c09-9a94-06a665edb08f","name":"CellTemperature7","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"bb99f722-eb5e-485b-8cd5-fba425affbf8","name":"CellTemperature8","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"58020e73-4439-436b-932b-5875aadf7a6f","name":"CellTemperature9","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"5278fbdc-1303-48b9-a153-335edc9831aa","name":"CellTemperature10","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"411fcba3-472f-4829-ba3b-12e0be1f4250","name":"BoardTemperature1","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"03ec49dc-6491-4332-a6d6-f3f261ed4d64","name":"BoardTemperature2","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ba95a9da-4ba1-44e1-9e89-26e83954473b","name":"BoardTemperature3","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"32a7cd73-0505-4a83-9abb-0b44199b6cfa","name":"BoardTemperature4","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"61cc3af9-fee9-4ed5-8476-c05f02d70d9f","name":"BoardTemperature5","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"346af058-07ef-4c43-9522-f99f6ae490d9","name":"BoardTemperature6","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"bec49b27-c4b5-44c5-9b6e-3dde9322905a","name":"BoardTemperature7","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"812ad5ba-da79-4ac1-bcca-c578e74eb0c8","name":"BoardTemperature8","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"14355354-88e4-439c-bb9d-11f0fc488dc7","name":"BoardTemperature9","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"83a4b97c-f071-4202-a145-668423f8b410","name":"BoardTemperature10","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"bc8884ab-4bce-4126-9b51-678db5073bf5","name":"BoardTemperature11","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"78e3484d-355d-46da-9288-f89012eed2ed","name":"BoardTemperature12","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"be14a6ae-d5f0-4bf0-bac9-04ed2c02a255","name":"BoardTemperature13","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"26cc5934-a2a2-4fc5-a5b8-6ad53b514df1","name":"BoardTemperature14","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"d7db8f68-175d-4710-8a8b-3e86f79ab3df","name":"BoardTemperature15","origin":1565747075012,"value":"20.152"}]}));
//			return JSON.stringify({"device":"aaaaaaaaaa17","id":"74c863b6-c209-4349-99c5-8f93024b1e67","origin":1567211883787,"readings":[{"device":"aaaaaaaaaa17","id":"e7545e7d-6517-4d99-a16b-faef1f1d966b","name":"BatteryStateCharge","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"a1625346-961a-4837-a569-b6ff40c3d713","name":"BatteryStateHealth","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"72c2af21-aac4-4154-95ef-1f11f5a13809","name":"TotalEnergyCharged","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"af0c17af-ba81-4992-896b-c94c00a4471b","name":"TotalEnergyDischarged","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"2f86cdd7-db96-4b4a-9c4e-8eb1e092e00d","name":"EnergyCharged","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3d9e1230-3d62-4065-b6cd-3eb505fa739e","name":"EnergyDischarged","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ad2aec4b-9d09-40c3-ba2f-6991b33288bb","name":"MaxumunModSensorTemperature","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f80837b8-1693-4d6b-a99e-10fc01b40139","name":"MinumunModSensorTemperature","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3846ba0f-6c20-48d8-99c9-ca2f05a8d432","name":"MaximumCellVoltage","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"62f31968-a2c8-4c84-8fa6-32445a612a1d","name":"MinimumCellVoltage","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"03e53611-44be-4224-afdf-e9188bdf111e","name":"CurrentBatteryPower","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f2412231-1ecb-4de8-a547-1695717dc33b","name":"TotalBatterySystemAmperage","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"9c62b134-ba62-4201-9e69-f1b5c8c344e4","name":"TotalBatteryPackVoltage","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"1f0968a1-cf70-47e1-ad1c-7ea536bf546d","name":"AmbientTemperature","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"4078c125-9b53-49a1-a2e1-f3032da7905c","name":"CellVoltage1","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"8eac755c-33c9-4ff5-91d2-b2fb87665373","name":"CellVoltage2","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"dc71b2f2-8f23-4d33-ac12-86d53fa7cbc7","name":"CellVoltage3","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"9f8c2309-43e3-44d5-8434-540298ae04fe","name":"CellVoltage4","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"5e959aa0-f6ac-4241-b66c-f7d01811895a","name":"CellVoltage5","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e7e90288-1054-477c-9402-7f1aeb8b73fb","name":"CellVoltage6","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e81bad3e-e19b-45b6-bea6-54e307fb4d88","name":"CellVoltage7","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e2867bb3-a173-4a06-9a8f-f576068e3a24","name":"CellVoltage8","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"c5c80902-16b3-4700-acdd-f1482e939e83","name":"CellVoltage9","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e2158eb9-9643-4548-b266-716d05ec7e02","name":"CellVoltage10","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3c903f50-01fc-4183-9482-4b9d774dee2d","name":"CellVoltage11","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"71be36fa-5b96-43f1-a27f-c3a8e799e780","name":"CellVoltage12","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f36dcfff-e4b4-41a2-923d-e6fef66aed24","name":"CellVoltage13","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f58e7d5e-8a2d-4d18-91e7-380690ab3742","name":"CellVoltage14","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"4c8a6cea-a228-4b56-96b0-39f2265d1438","name":"CellVoltage15","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"08c0d125-7106-465b-846e-271ed04d02b8","name":"CellVoltage16","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3defa676-0dc9-40c5-ab71-6997dbc8b2be","name":"CellVoltage17","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"98c06012-2695-467a-88a2-a2626275e6ae","name":"CellVoltage18","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"947cff26-d640-42e7-940d-57dd3b78c541","name":"CellVoltage19","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"0e4bc7fc-1a79-4ae1-8eb2-9fd545b750c2","name":"CellVoltage20","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"cc9df6df-34a2-4f95-8492-cc4911faf1aa","name":"CellVoltage21","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"002b78c8-9f99-4abf-af86-b4fc50016896","name":"CellVoltage22","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"47eabd58-565c-4912-9084-cd5ec011e21b","name":"CellVoltage23","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"6ee30c7e-556d-4078-9503-444f1de32373","name":"CellVoltage24","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"fa71c683-79fe-4449-823f-1bf2fc4a0bbe","name":"CellVoltage25","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"517f4a94-47c7-4afc-a6e0-3192480aed70","name":"CellVoltage26","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"c6fe74a2-725e-441a-a530-7d9b72482437","name":"CellVoltage27","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"a9c6c81a-606b-4cc4-b1a6-3618d1a825ce","name":"CellVoltage28","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"a3430a5b-7a19-45c9-96d6-5d3477c2ee91","name":"CellVoltage29","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"41e77c5d-a39b-4526-888c-fcafc88f1d71","name":"CellVoltage30","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"b65c3f93-79d2-4a2b-9974-e92446b89a31","name":"CellVoltage31","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"d93cf9ee-46e4-4bd7-8bc3-e77524f1ec2b","name":"CellVoltage32","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"0633862b-1343-47f3-95e7-bd7362dbdb89","name":"CellVoltage33","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"21d532ec-918e-45ac-9dac-88d82e4fa62b","name":"CellVoltage34","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"45778eb7-3bc9-48d4-98a6-8551e66c6bba","name":"CellVoltage35","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e60eefa0-3e6c-46d1-b771-fb6488ccbe9c","name":"CellVoltage36","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"25db0574-03ac-48d9-8dc9-12f41dc774bb","name":"CellVoltage37","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"fdf4905f-6d19-4892-80be-43d129539a00","name":"CellVoltage38","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"30e4e118-3ea4-45f1-bb96-233088719c0f","name":"CellVoltage39","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"09ea80f6-c945-422f-8771-9ad7b214b617","name":"CellVoltage40","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e473ae23-1b1f-4f2a-a74c-b5c58eb53508","name":"CellVoltage41","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"3f6ab3b3-2fe8-4a14-af7f-04fa9edb0356","name":"CellVoltage42","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"1a166fd9-a0d3-4d86-9054-443cbff8ecc9","name":"CellVoltage43","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"2eb41dc3-738d-4d2d-b65d-ea538fb44589","name":"CellVoltage44","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"cffb15bb-317f-467a-a690-8d93d6c18f43","name":"CellVoltage45","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"6013631c-00a1-40ec-b654-826291080dcf","name":"CellVoltage46","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e50b01c3-b0cc-42e5-bbce-c9b239ed805e","name":"CellVoltage47","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"5b3827b3-0e65-45bb-ae38-40f1304fea86","name":"CellVoltage48","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"2e883250-2eed-45dd-9a85-d6b2616cf056","name":"CellVoltage49","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"c45eee72-90b1-4e08-bc2b-fcad8c3b60c6","name":"CellVoltage50","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e5d2fc73-e96b-4745-89af-f776f7c51ba9","name":"CellVoltage51","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"1900305f-5f6b-403f-a764-80bb5b67699f","name":"CellVoltage52","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ffc0f9d8-e612-4f01-8ad2-3a9048e4744f","name":"CellVoltage53","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"8698ca5b-8ffb-4aa8-80b2-2725133a56fa","name":"CellVoltage54","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"d4d882d8-f5d2-4414-a611-cf24b4a2bf01","name":"CellVoltage55","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"74026e05-e7a4-4ff6-b363-98e3c946cb16","name":"CellVoltage56","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f7cddd1d-e0b4-4f05-a892-b1ac0b0e2907","name":"CellVoltage57","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"9d88e130-923a-49e7-850a-fc49c0cdedf2","name":"CellVoltage58","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"929dd4f2-e9e0-4346-87c0-89b1e9f9c917","name":"CellVoltage59","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"6a8c7aff-72c8-4149-a821-bb8bc77875ae","name":"CellVoltage60","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"432e59e5-fbf8-4ede-b4b6-dbc515235bba","name":"CellVoltage61","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e39673cc-3c12-41dc-975b-eea4d0aeee16","name":"CellVoltage62","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"b70bffef-1b7e-49ff-929a-4df700b01458","name":"CellVoltage63","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"eb5dc4d0-900c-4f12-ad02-33123e484224","name":"CellVoltage64","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"704282e2-4357-4b78-9b63-0182903594af","name":"CellVoltage65","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"a532facb-1d5d-4f24-9e99-bc1dd59f660a","name":"CellVoltage66","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ef7c4e58-8a12-402f-a80f-dd035df6b6ac","name":"CellVoltage67","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"5f4174f7-8a52-4fe3-8ccb-6d59afc9368d","name":"CellVoltage68","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"201438e0-68bd-4369-b1bf-520a0a13793a","name":"CellVoltage69","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ebe8ff66-181b-44e3-a364-6767036a068c","name":"CellVoltage70","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"52649cea-ee4b-479c-ba50-6a254f130962","name":"CellTemperature1","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"e8762391-80b8-4a39-b806-76305d265429","name":"CellTemperature2","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"f09e120c-bf10-4242-8cff-32b17ff1a8f3","name":"CellTemperature3","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"83f2bdd7-66f9-4d4c-a082-23f1221d0cfe","name":"CellTemperature4","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ff4709b6-d90c-437c-81b3-6ac6a2a00cbf","name":"CellTemperature5","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"329cf44f-cdda-4d43-adac-f62da4e9823e","name":"CellTemperature6","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"75396d56-6a17-4c09-9a94-06a665edb08f","name":"CellTemperature7","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"bb99f722-eb5e-485b-8cd5-fba425affbf8","name":"CellTemperature8","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"58020e73-4439-436b-932b-5875aadf7a6f","name":"CellTemperature9","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"5278fbdc-1303-48b9-a153-335edc9831aa","name":"CellTemperature10","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"411fcba3-472f-4829-ba3b-12e0be1f4250","name":"BoardTemperature1","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"03ec49dc-6491-4332-a6d6-f3f261ed4d64","name":"BoardTemperature2","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"ba95a9da-4ba1-44e1-9e89-26e83954473b","name":"BoardTemperature3","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"32a7cd73-0505-4a83-9abb-0b44199b6cfa","name":"BoardTemperature4","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"61cc3af9-fee9-4ed5-8476-c05f02d70d9f","name":"BoardTemperature5","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"346af058-07ef-4c43-9522-f99f6ae490d9","name":"BoardTemperature6","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"bec49b27-c4b5-44c5-9b6e-3dde9322905a","name":"BoardTemperature7","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"812ad5ba-da79-4ac1-bcca-c578e74eb0c8","name":"BoardTemperature8","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"14355354-88e4-439c-bb9d-11f0fc488dc7","name":"BoardTemperature9","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"83a4b97c-f071-4202-a145-668423f8b410","name":"BoardTemperature10","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"bc8884ab-4bce-4126-9b51-678db5073bf5","name":"BoardTemperature11","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"78e3484d-355d-46da-9288-f89012eed2ed","name":"BoardTemperature12","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"be14a6ae-d5f0-4bf0-bac9-04ed2c02a255","name":"BoardTemperature13","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"26cc5934-a2a2-4fc5-a5b8-6ad53b514df1","name":"BoardTemperature14","origin":1565747075012,"value":"20.152"},{"device":"aaaaaaaaaa17","id":"d7db8f68-175d-4710-8a8b-3e86f79ab3df","name":"BoardTemperature15","origin":1565747075012,"value":"20.152"}]})

		}
        
        return null;
    }
 
    validate = (fieldName: string, context: IActivityContribution): Observable<IValidationResult> | IValidationResult => {
		
		console.log('validate >>>>>>>> fieldName = ' + fieldName);

		return null; 
    }
}

function populateAttribute(attrType) : any {
	switch(attrType) {
		case "Double" :
    			return 2.0;
		case "Integer":
			return 2;
		case "Long":
			return 2;
		case "Boolean":
			return true;
		case "Date":
			return 2;
		default:
    			return "2";
	}
}

/*
function buildJSON(jsonelement) : any {
	
	switch(typeof jsonelement) {
		case object :
    			return 2.0;
		case array :
			return 2;
		default:
    			return "2";
	}
}
*/